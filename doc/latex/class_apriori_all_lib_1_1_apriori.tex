\hypertarget{class_apriori_all_lib_1_1_apriori}{\section{Apriori\-All\-Lib.\-Apriori Class Reference}
\label{class_apriori_all_lib_1_1_apriori}\index{Apriori\-All\-Lib.\-Apriori@{Apriori\-All\-Lib.\-Apriori}}
}


This class is used for calculating litemsets from a set of customers' transactions  




Collaboration diagram for Apriori\-All\-Lib.\-Apriori\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{class_apriori_all_lib_1_1_apriori__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_apriori_all_lib_1_1_apriori_a07c440217ce84e547c31c71ba9a2742e}{Apriori} (\hyperlink{class_apriori_all_lib_1_1_customer_list}{Customer\-List} \hyperlink{class_apriori_all_lib_1_1_apriori_abbca8be3761136e76782ce10ebd61638}{customer\-List})
\begin{DoxyCompactList}\small\item\em Constructor \end{DoxyCompactList}\item 
List$<$ \hyperlink{class_apriori_all_lib_1_1_litemset}{Litemset} $>$ \hyperlink{class_apriori_all_lib_1_1_apriori_a64e63d73cfc770ef8532127198b314dd}{Find\-One\-Litemsets} (double minimal\-Support)
\begin{DoxyCompactList}\small\item\em Finds all litemsets that have the minimal support \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
List$<$ \hyperlink{class_apriori_all_lib_1_1_litemset}{Litemset} $>$ \hyperlink{class_apriori_all_lib_1_1_apriori_a79d720678f873cfb665fe6cbf4bf32ae}{generate\-Candidates} (List$<$ \hyperlink{class_apriori_all_lib_1_1_item}{Item} $>$ items)
\begin{DoxyCompactList}\small\item\em Produces all subsets of a given list of items in a transaction \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_apriori_all_lib_1_1_customer_list}{Customer\-List} \hyperlink{class_apriori_all_lib_1_1_apriori_abbca8be3761136e76782ce10ebd61638}{customer\-List}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class is used for calculating litemsets from a set of customers' transactions 



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_apriori_all_lib_1_1_apriori_a07c440217ce84e547c31c71ba9a2742e}{\index{Apriori\-All\-Lib\-::\-Apriori@{Apriori\-All\-Lib\-::\-Apriori}!Apriori@{Apriori}}
\index{Apriori@{Apriori}!AprioriAllLib::Apriori@{Apriori\-All\-Lib\-::\-Apriori}}
\subsubsection[{Apriori}]{\setlength{\rightskip}{0pt plus 5cm}Apriori\-All\-Lib.\-Apriori.\-Apriori (
\begin{DoxyParamCaption}
\item[{{\bf Customer\-List}}]{customer\-List}
\end{DoxyParamCaption}
)}}\label{class_apriori_all_lib_1_1_apriori_a07c440217ce84e547c31c71ba9a2742e}


Constructor 


\begin{DoxyParams}{Parameters}
{\em customer\-List} & \hyperlink{class_apriori_all_lib_1_1_customer_list}{Customer\-List} object containing a list of Customers from a database\\
\hline
\end{DoxyParams}

\begin{DoxyCode}
        \{
            this.\hyperlink{class_apriori_all_lib_1_1_apriori_abbca8be3761136e76782ce10ebd61638}{customerList} = \hyperlink{class_apriori_all_lib_1_1_apriori_abbca8be3761136e76782ce10ebd61638}{customerList};
        \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{class_apriori_all_lib_1_1_apriori_a64e63d73cfc770ef8532127198b314dd}{\index{Apriori\-All\-Lib\-::\-Apriori@{Apriori\-All\-Lib\-::\-Apriori}!Find\-One\-Litemsets@{Find\-One\-Litemsets}}
\index{Find\-One\-Litemsets@{Find\-One\-Litemsets}!AprioriAllLib::Apriori@{Apriori\-All\-Lib\-::\-Apriori}}
\subsubsection[{Find\-One\-Litemsets}]{\setlength{\rightskip}{0pt plus 5cm}List$<${\bf Litemset}$>$ Apriori\-All\-Lib.\-Apriori.\-Find\-One\-Litemsets (
\begin{DoxyParamCaption}
\item[{double}]{minimal\-Support}
\end{DoxyParamCaption}
)}}\label{class_apriori_all_lib_1_1_apriori_a64e63d73cfc770ef8532127198b314dd}


Finds all litemsets that have the minimal support 


\begin{DoxyParams}{Parameters}
{\em minimal\-Support} & Minimal support\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A list of Litemsets with support $>$= minimal\-Support
\end{DoxyReturn}

\begin{DoxyCode}
        \{
            \textcolor{keywordflow}{if} (minimalSupport > 1 || minimalSupport < 0)
                \textcolor{keywordflow}{return} null; 
            
            minimalSupport *= \hyperlink{class_apriori_all_lib_1_1_apriori_abbca8be3761136e76782ce10ebd61638}{customerList}.\hyperlink{class_apriori_all_lib_1_1_customer_list_a4fd2a16a984844e61ffc60b327e6534a}{Customers}.Count
      ;
            List<Litemset> litemsets = \textcolor{keyword}{new} List<Litemset>();

            \textcolor{keywordflow}{foreach} (Customer c \textcolor{keywordflow}{in} \hyperlink{class_apriori_all_lib_1_1_apriori_abbca8be3761136e76782ce10ebd61638}{customerList}.\hyperlink{class_apriori_all_lib_1_1_customer_list_a4fd2a16a984844e61ffc60b327e6534a}{Customers})
            \{
                \textcolor{keywordflow}{foreach} (Transaction t \textcolor{keywordflow}{in} c.Transactions)
                \{
                    \textcolor{comment}{//generate subsets (candidates for litemsets)}
                    List<Litemset> candidateLitemsets = \hyperlink{class_apriori_all_lib_1_1_apriori_a79d720678f873cfb665fe6cbf4bf32ae}{generateCandidates}
      (t.Items);

                    \textcolor{comment}{//check if they already exist in litemsets list; if not,
       add a litemset to litemsets}
                    \textcolor{keywordflow}{foreach} (Litemset lset \textcolor{keywordflow}{in} candidateLitemsets)
                    \{
                        IEnumerable<Litemset> l = litemsets.Where(litemset => (
      litemset.Items.Count == lset.Items.Count) &&
                            litemset.Items.All(item => lset.Items.Exists(
      lsetItem => lsetItem.CompareTo(item) == 0)));

                        \textcolor{keywordtype}{int} custID = \hyperlink{class_apriori_all_lib_1_1_apriori_abbca8be3761136e76782ce10ebd61638}{customerList}.\hyperlink{class_apriori_all_lib_1_1_customer_list_a4fd2a16a984844e61ffc60b327e6534a}{Customers}
      .IndexOf(c);
                        \textcolor{keywordflow}{if} (l.Count() == 0 && !lset.IDs.Contains(custID))
                        \{
                            litemsets.Add(lset);
                            lset.Support++;
                            lset.IDs.Add(custID);
                        \}
                        \textcolor{keywordflow}{else}
                        \{
                            Litemset litset = l.FirstOrDefault();
                            \textcolor{keywordflow}{if} (!litset.IDs.Contains(custID))
                            \{
                                litset.Support++;
                                litset.IDs.Add(custID);
                            \}
                        \}     
                    \}
                \}
            \}
            \textcolor{comment}{// rewrite the litemsets with support >= minimum to a new list}
            List<Litemset> properLitemsets = \textcolor{keyword}{new} List<Litemset>();
            \textcolor{keywordflow}{foreach} (Litemset litemset \textcolor{keywordflow}{in} litemsets)
                \textcolor{keywordflow}{if} (litemset.Support >= minimalSupport)
                    properLitemsets.Add(litemset);

            properLitemsets.Sort();

            \textcolor{keywordflow}{return} properLitemsets;
        \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_apriori_all_lib_1_1_apriori_a64e63d73cfc770ef8532127198b314dd_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=348pt]{class_apriori_all_lib_1_1_apriori_a64e63d73cfc770ef8532127198b314dd_icgraph}
\end{center}
\end{figure}


\hypertarget{class_apriori_all_lib_1_1_apriori_a79d720678f873cfb665fe6cbf4bf32ae}{\index{Apriori\-All\-Lib\-::\-Apriori@{Apriori\-All\-Lib\-::\-Apriori}!generate\-Candidates@{generate\-Candidates}}
\index{generate\-Candidates@{generate\-Candidates}!AprioriAllLib::Apriori@{Apriori\-All\-Lib\-::\-Apriori}}
\subsubsection[{generate\-Candidates}]{\setlength{\rightskip}{0pt plus 5cm}List$<${\bf Litemset}$>$ Apriori\-All\-Lib.\-Apriori.\-generate\-Candidates (
\begin{DoxyParamCaption}
\item[{List$<$ {\bf Item} $>$}]{items}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{class_apriori_all_lib_1_1_apriori_a79d720678f873cfb665fe6cbf4bf32ae}


Produces all subsets of a given list of items in a transaction 


\begin{DoxyParams}{Parameters}
{\em items} & List of items contained in one transaction\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
List of Litemsets
\end{DoxyReturn}

\begin{DoxyCode}
        \{
            \textcolor{keywordtype}{int} count = items.Count;
            \textcolor{keywordtype}{int} i = 0;
            List<List<Item>> candLitemsets = \textcolor{keyword}{new} List<List<Item>>();

            \textcolor{comment}{// add a frequent sequence containing all the elements in this
       transaction}
            candLitemsets.Add(\textcolor{keyword}{new} List<Item>(items));
            count--;
            \textcolor{keywordflow}{while} (count != 0)
            \{
                List<Item> temp;
                \textcolor{keywordflow}{foreach} (Item item \textcolor{keywordflow}{in} candLitemsets[i])
                \{
                    temp = \textcolor{keyword}{new} List<Item>(candLitemsets[i]);
                    temp.Remove(item);
                    \textcolor{comment}{// check if there's already such subsequence in the list,
       add}
                    \textcolor{comment}{// if it doesn't exist}
                    \textcolor{keywordflow}{if} (!candLitemsets.Exists(list => list.Count == count &&
                        temp.All(tempItem => list.Exists(listItem => listItem.
      CompareTo(tempItem) == 0))))
                        candLitemsets.Add(temp);
                \}
                \textcolor{keywordflow}{if} (candLitemsets[i + 1].Count == candLitemsets[i].Count - 1)
                    count--;
                i++;
            \}
            List<Litemset> l = \textcolor{keyword}{new} List<Litemset>();
            \textcolor{keywordflow}{foreach} (List<Item> j \textcolor{keywordflow}{in} candLitemsets)
                l.Add(\textcolor{keyword}{new} Litemset(j));
            \textcolor{keywordflow}{return} l;
        \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_apriori_all_lib_1_1_apriori_a79d720678f873cfb665fe6cbf4bf32ae_icgraph}
\end{center}
\end{figure}




\subsection{Member Data Documentation}
\hypertarget{class_apriori_all_lib_1_1_apriori_abbca8be3761136e76782ce10ebd61638}{\index{Apriori\-All\-Lib\-::\-Apriori@{Apriori\-All\-Lib\-::\-Apriori}!customer\-List@{customer\-List}}
\index{customer\-List@{customer\-List}!AprioriAllLib::Apriori@{Apriori\-All\-Lib\-::\-Apriori}}
\subsubsection[{customer\-List}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Customer\-List} Apriori\-All\-Lib.\-Apriori.\-customer\-List\hspace{0.3cm}{\ttfamily [private]}}}\label{class_apriori_all_lib_1_1_apriori_abbca8be3761136e76782ce10ebd61638}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
D\-:/\-Projects/\-Csharp/\-Mi\-N\-I\-\_\-\-Apriori\-All/\-Apriori\-All\-Lib/\hyperlink{_apriori_8cs}{Apriori.\-cs}\end{DoxyCompactItemize}
